<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="theme-color" content="#ffffff" />
  <title>我的</title>
  <!-- Optional: existing project stylesheet -->
  <link rel="stylesheet" href="../statics/css/me.css" />
  <!-- Google Material Icons & Roboto (for that Google-y look) -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet" />
  <style>
    :root {
      --bg: #f6f7fb;
      --card: #ffffff;
      --text: #111827;
      --text-secondary: #6b7280;
      --brand: #1a73e8; /* Google-ish blue */
      --brand-700: #1558b3;
      --danger: #e53935;
      --divider: #e5e7eb;
      --shadow-1: 0 1px 2px rgba(0,0,0,0.06);
      --shadow-2: 0 6px 18px rgba(0,0,0,0.08);
      --radius: 14px;
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --bg: #0f1115;
        --card: #151924;
        --text: #e5e7eb;
        --text-secondary: #9aa3af;
        --brand: #8ab4f8;
        --brand-700: #7aa2de;
        --danger: #f28b82;
        --divider: #232836;
        --shadow-1: 0 1px 2px rgba(0,0,0,0.6);
        --shadow-2: 0 10px 30px rgba(0,0,0,0.5);
      }
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: Roboto, system-ui, -apple-system, Segoe UI, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--text);
      background: radial-gradient(1200px 800px at 80% -10%, rgba(26,115,232,0.08), transparent 65%),
                  radial-gradient(800px 600px at -10% 0%, rgba(234,67,53,0.06), transparent 60%),
                  var(--bg);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    .app {
      max-width: 680px;
      margin: 0 auto;
      padding: 20px 16px 40px;
      animation: fadeIn .6s ease both;
    }

    .topbar {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 18px;
    }
    .topbar .material-icons-outlined { font-size: 22px; }
    .topbar .title {
      font-weight: 700;
      font-size: 20px;
      letter-spacing: .2px;
    }

    .card {
      background: var(--card);
      border-radius: var(--radius);
      box-shadow: var(--shadow-2);
      overflow: hidden;
      transform: translateY(0);
      transition: transform .25s ease, box-shadow .25s ease;
      position: relative;
    }
    .card:hover { transform: translateY(-2px); box-shadow: 0 14px 40px rgba(0,0,0,.10); }

    .profile {
      display: grid;
      grid-template-columns: 88px 1fr auto;
      gap: 16px;
      padding: 20px;
      align-items: center;
    }
    .avatar {
      width: 88px;
      height: 88px;
      border-radius: 50%;
      background: conic-gradient(from 180deg, #1a73e8, #34a853, #fbbc05, #ea4335, #1a73e8);
      padding: 3px;
      box-shadow: var(--shadow-2);
      position: relative;
    }
    .avatar-inner {
      width: 100%; height: 100%;
      border-radius: 50%;
      background: linear-gradient(180deg, #fff, #f3f4f6);
      display: grid; place-items: center;
      color: #1f2937;
      font-weight: 700; font-size: 28px;
    }
    @media (prefers-color-scheme: dark) {
      .avatar-inner { background: linear-gradient(180deg, #0f1115, #0b0d12); color: #e5e7eb; }
    }

    .profile-info { display: grid; gap: 4px; }
    .profile-info .name { font-weight: 700; font-size: 18px; }
    .profile-info .email { color: var(--text-secondary); font-size: 13px; }

    .edit-btn {
      border: none; outline: none; cursor: pointer;
      background: transparent; color: var(--brand);
      font-weight: 500; padding: 8px 10px; border-radius: 10px;
    }

    .quick-actions { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; padding: 16px; border-top: 1px solid var(--divider); }
    .q-item {
      display: grid; gap: 8px; place-items: center;
      padding: 14px 8px; border-radius: 12px; position: relative;
      background: linear-gradient(180deg, rgba(26,115,232,0.06), transparent);
      cursor: pointer; user-select: none;
      transition: transform .15s ease, background .2s ease;
    }
    .q-item:hover { transform: translateY(-1px); }
    .q-item .material-icons-outlined { font-size: 22px; }
    .q-item span { font-size: 12px; color: var(--text-secondary); }

    .list { margin-top: 16px; overflow: hidden; border-radius: var(--radius); box-shadow: var(--shadow-2); background: var(--card); }
    .li { display: grid; grid-template-columns: auto 1fr auto; gap: 14px; align-items: center; padding: 14px 16px; border-top: 1px solid var(--divider); position: relative; }
    .li:first-child { border-top: none; }
    .li .material-icons-outlined { font-size: 22px; color: var(--text-secondary); }
    .li .label { font-weight: 500; }
    .li .desc { font-size: 12px; color: var(--text-secondary); margin-top: 2px; }

    .logout {
      margin-top: 18px;
      display: flex; justify-content: center;
      background: var(--card);
      box-shadow: var(--shadow-2);
      border-radius: var(--radius);
      overflow: hidden;
    }
    .logout button {
      width: 100%; border: none; outline: none; cursor: pointer;
      padding: 14px 18px; font-weight: 700;
      background: linear-gradient(180deg, rgba(229,57,53,0.10), transparent);
      color: var(--danger);
      position: relative;
    }

    /* Ripple effect (Material-like) */
    .rippleable { position: relative; overflow: hidden; }
    .ripple {
      position: absolute; border-radius: 999px; transform: scale(0);
      animation: ripple .6s ease-out forwards; pointer-events: none;
      background: currentColor; opacity: .18;
      mix-blend-mode: multiply;
    }

    /* Animations */
    @keyframes ripple { to { transform: scale(12); opacity: 0; } }
    @keyframes fadeIn { from { opacity: 0; translate: 0 6px; } to { opacity: 1; translate: 0 0; } }

    /* Small screens */
    @media (max-width: 420px) {
      .profile { grid-template-columns: 72px 1fr auto; gap: 12px; }
      .avatar { width: 72px; height: 72px; }
      .quick-actions { grid-template-columns: repeat(4, 1fr); gap: 8px; }
      .q-item { padding: 12px 6px; }
    }
  </style>
</head>
<body>
  <main class="app" aria-label="我的">
    <header class="topbar">
      <div class="title">我的</div>
    </header>

    <!-- Profile Card -->
    <section class="card" aria-label="用户资料">
      <div class="profile">
        <div class="avatar" aria-hidden="true">
          <div class="avatar-inner" id="avatarInitials">JB</div>
        </div>
        <div class="profile-info">
          <div class="name" id="displayName">Junxi Bao</div>
          <div class="email" id="displayEmail">junxi@example.com</div>
        </div>
        <button class="edit-btn rippleable" id="editProfileBtn">
          <span class="material-icons-outlined" aria-hidden="true">edit</span>
          编辑
        </button>
      </div>

      <!-- Quick actions -->
      <div class="quick-actions">
        <div class="q-item rippleable" data-action="favorites" role="button" tabindex="0" aria-label="收藏">
          <span class="material-icons-outlined" aria-hidden="true">star</span>
          <span>收藏</span>
        </div>
        <div class="q-item rippleable" data-action="history" role="button" tabindex="0" aria-label="历史">
          <span class="material-icons-outlined" aria-hidden="true">history</span>
          <span>历史</span>
        </div>
        <div class="q-item rippleable" data-action="follow" role="button" tabindex="0" aria-label="关注">
          <span class="material-icons-outlined" aria-hidden="true">person_add</span>
          <span>关注</span>
        </div>
        <div class="q-item rippleable" data-action="footprint" role="button" tabindex="0" aria-label="足迹">
          <span class="material-icons-outlined" aria-hidden="true">directions_walk</span>
          <span>足迹</span>
        </div>
      </div>
    </section>

    <!-- Settings List -->
    <section class="list" aria-label="设置列表">
      <div class="li rippleable" data-action="account">
        <span class="material-icons-outlined" aria-hidden="true">manage_accounts</span>
        <div>
          <div class="label">账户设置</div>
          <div class="desc">用户名、头像、隐私</div>
        </div>
        <span class="material-icons-outlined" aria-hidden="true">chevron_right</span>
      </div>
      <div class="li rippleable" data-action="notifications">
        <span class="material-icons-outlined" aria-hidden="true">notifications_active</span>
        <div>
          <div class="label">通知</div>
          <div class="desc">推送、邮件偏好</div>
        </div>
        <span class="material-icons-outlined" aria-hidden="true">chevron_right</span>
      </div>
      <div class="li rippleable" data-action="appearance">
        <span class="material-icons-outlined" aria-hidden="true">dark_mode</span>
        <div>
          <div class="label">外观</div>
          <div class="desc">跟随系统明暗主题</div>
        </div>
        <span class="material-icons-outlined" aria-hidden="true">chevron_right</span>
      </div>
      <div class="li rippleable" data-action="help">
        <span class="material-icons-outlined" aria-hidden="true">help_center</span>
        <div>
          <div class="label">帮助与反馈</div>
          <div class="desc">常见问题、联系我们</div>
        </div>
        <span class="material-icons-outlined" aria-hidden="true">chevron_right</span>
      </div>
    </section>

    <!-- Logout -->
    <div class="logout">
      <button class="rippleable" id="logoutBtn" aria-label="退出登录">
        <span class="material-icons-outlined" aria-hidden="true">logout</span>
        退出登录
      </button>
    </div>
  </main>

  <script>
    // Simple data bootstrapping (replace with real data)
    const user = {
      name: 'Junxi Bao',
      email: 'junxi@example.com'
    };

    const nameEl = document.getElementById('displayName');
    const emailEl = document.getElementById('displayEmail');
    const initialsEl = document.getElementById('avatarInitials');
    nameEl.textContent = user.name;
    emailEl.textContent = user.email;
    initialsEl.textContent = user.name.split(/\s+/).map(s => s[0]).slice(0,2).join('').toUpperCase();

    // Material-like ripple effect
    function addRipple(e) {
      const target = e.currentTarget;
      const rect = target.getBoundingClientRect();
      const ripple = document.createElement('span');
      const size = Math.max(rect.width, rect.height);
      ripple.className = 'ripple';
      ripple.style.width = ripple.style.height = size + 'px';
      const x = (e.clientX || (rect.left + rect.width/2)) - rect.left - size/2;
      const y = (e.clientY || (rect.top + rect.height/2)) - rect.top - size/2;
      ripple.style.left = x + 'px';
      ripple.style.top = y + 'px';
      target.appendChild(ripple);
      ripple.addEventListener('animationend', () => ripple.remove());
    }

    document.querySelectorAll('.rippleable').forEach(el => {
      el.addEventListener('click', addRipple);
      el.addEventListener('keydown', (ev) => { if (ev.key === 'Enter' || ev.key === ' ') { el.click(); } });
    });

    // Demo handlers
    const toast = (msg) => {
      const t = document.createElement('div');
      t.textContent = msg;
      t.style.position = 'fixed';
      t.style.left = '50%';
      t.style.bottom = '28px';
      t.style.transform = 'translateX(-50%)';
      t.style.background = 'var(--card)';
      t.style.color = 'var(--text)';
      t.style.padding = '10px 14px';
      t.style.borderRadius = '12px';
      t.style.boxShadow = 'var(--shadow-2)';
      t.style.zIndex = '9999';
      t.style.opacity = '0';
      t.style.transition = 'opacity .2s ease, translate .2s ease';
      document.body.appendChild(t);
      requestAnimationFrame(() => { t.style.opacity = '1'; t.style.translate = '0 -8px'; });
      setTimeout(() => { t.style.opacity = '0'; t.style.translate = '0 0'; t.addEventListener('transitionend', () => t.remove(), { once: true }); }, 1500);
    };

    document.getElementById('editProfileBtn').addEventListener('click', () => toast('打开资料编辑'));
    document.getElementById('logoutBtn').addEventListener('click', () => {
      try {
        const keys = ['UserID', 'userid', 'userId'];
        keys.forEach(k => { localStorage.removeItem(k); sessionStorage.removeItem(k); });
      } catch (e) {}
      // 跳转到登录页
      window.location.replace('./login.html');
    });
    document.querySelectorAll('[data-action]').forEach(el => {
      el.addEventListener('click', () => toast('打开：' + el.dataset.action));
    });
  </script>
</body>
</html>
