 * {
   box-sizing: border-box;
 }

 body {
   margin: 0;
   padding: 0;
   font-family: "Segoe UI", "Helvetica Neue", sans-serif;
   background-color: #fff8dc;
   display: flex;
   flex-direction: column;
   height: 100vh;
 }

 header {
   background-color: #f5deb3;
   /* wheat */
   color: #5b3a00;
   /* 深棕色文字 */
   padding: 14px 16px;
   text-align: center;
   font-size: 22px;
   font-weight: bold;
   box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
 }

 /* 打字配置区域样式 */
 .typing-config {
   background-color: #fef3c7;
   padding: 12px 16px;
   text-align: center;
   border-bottom: 1px solid #f59e0b;
   display: flex;
   align-items: center;
   justify-content: center;
   gap: 12px;
   flex-wrap: wrap;
 }

 .typing-config label {
   color: #92400e;
   font-weight: 500;
   font-size: 14px;
 }

 .typing-config select {
   padding: 6px 10px;
   border: 1px solid #f59e0b;
   border-radius: 6px;
   background-color: #fff;
   color: #92400e;
   font-size: 14px;
   cursor: pointer;
   outline: none;
 }

 .typing-config select:focus {
   border-color: #d97706;
   box-shadow: 0 0 0 2px rgba(217, 119, 6, 0.2);
 }

 .typing-config button {
   padding: 6px 12px;
   background-color: #ef4444;
   color: white;
   border: none;
   border-radius: 6px;
   font-size: 14px;
   cursor: pointer;
   transition: background-color 0.2s;
 }

 .typing-config button:hover {
   background-color: #dc2626;
 }

 .chat-container {
   flex: 1;
   display: flex;
   flex-direction: column;
   max-width: 100%;
   width: 100%;
   margin: 0 auto;
   padding: 8px 10px;
 }

 .message-list {
   flex: 1;
   overflow-y: auto;
   padding: 12px 14px;
   background-color: #fffaf0;
   border-radius: 12px;
   box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
   margin-bottom: 12px;
   font-size: 16px;
   line-height: 1.5;
   display: flex;
   flex-direction: column;
 }

 .message {
   display: inline-block;
   padding: 10px 14px;
   margin-bottom: 10px;
   border-radius: 8px;
   word-wrap: break-word;
   line-height: 1.5;
   animation: fadeInUp 0.3s ease-out;
   max-width: 80%;
 }

 .user {
   background-color: #dbeafe;
   color: #1e3a8a;
   text-align: right;
   align-self: flex-end;
   border-radius: 18px 18px 4px 18px;
 }

 .bot {
   background-color: #dcfce7;
   color: #166534;
   align-self: flex-start;
   border-radius: 18px 18px 18px 4px;
 }

 @keyframes fadeInUp {
   from {
     opacity: 0;
     transform: translateY(10px);
   }

   to {
     opacity: 1;
     transform: translateY(0);
   }
 }

 .input-container {
   display: flex;
   gap: 8px;
 }

 input[type="text"] {
   flex: 1;
   padding: 12px 14px;
   font-size: 16px;
   border: 1px solid #ccc;
   border-radius: 8px;
   outline-offset: 2px;
   background-color: #fffaf0;
 }

 button {
   flex-shrink: 0;
   padding: 12px 18px;
   font-size: 16px;
   border: none;
   border-radius: 8px;
   background-color: #3b82f6;
   color: white;
   cursor: pointer;
   transition: background-color 0.2s;
   min-width: 80px;
 }

 button:hover {
   background-color: #2563eb;
 }

 /* —— UI Enhancements —— */
 .chat-container {
   max-width: 860px;
   width: 100%;
 }

 header {
   position: sticky;
   top: 0;
   z-index: 10;
 }

 .message-list {
   gap: 6px;
 }

 .message {
   position: relative;
   box-shadow: 0 4px 14px rgba(0, 0, 0, .06);
 }

 .message::before {
   content: '';
   position: absolute;
   top: -4px;
   width: 28px;
   height: 28px;
   border-radius: 50%;
   box-shadow: 0 2px 6px rgba(0, 0, 0, .12);
 }

 .message.user::before {
   right: -36px;
   background: linear-gradient(135deg, #60a5fa, #2563eb);
 }

 .message.bot::before {
   left: -36px;
   background: linear-gradient(135deg, #34d399, #059669);
 }

 /* typing bubble */
 .message.typing .dots {
   display: inline-flex;
   gap: 4px;
 }

 .message.typing .dot {
   width: 6px;
   height: 6px;
   border-radius: 50%;
   background: currentColor;
   opacity: .3;
   animation: bounce .9s infinite;
 }

 .message.typing .dot:nth-child(2) {
   animation-delay: .15s;
 }

 .message.typing .dot:nth-child(3) {
   animation-delay: .3s;
 }

 @keyframes bounce {

   0%,
   100% {
     transform: translateY(0);
     opacity: .3
   }

   50% {
     transform: translateY(-5px);
     opacity: 1
   }
 }

 /* input bar polish */
 .input-container {
   position: sticky;
   bottom: 6px;
   background: transparent;
 }

 input[type="text"] {
   box-shadow: 0 4px 12px rgba(0, 0, 0, .06);
 }

 button:active {
   transform: translateY(1px);
 }

 /* motion respect */
 @media (prefers-reduced-motion: reduce) {
   * {
     animation-duration: .01ms !important;
     animation-iteration-count: 1 !important;
     transition: none !important;
   }
 }

 /* 移动端调整 */
 @media (max-width: 480px) {
   header {
     font-size: 20px;
     padding: 12px 10px;
   }

   .message-list {
     font-size: 15px;
     padding: 10px 12px;
     margin-bottom: 10px;
     /* background-color remains #fffaf0 from above */
   }

   .message {
     max-width: 90%;
     padding: 8px 12px;
     margin-bottom: 8px;
   }

   input[type="text"] {
     font-size: 15px;
     padding: 10px 12px;
     /* background-color remains #fffaf0 from above */
   }

   button {
     font-size: 15px;
     padding: 10px 16px;
     min-width: 70px;
   }
 }


 @media (prefers-color-scheme: dark) {
   body {
     background-color: #0f172a;
     color: #f0f0f0;
   }

   .message-list {
     background-color: #1e293b;
     box-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
   }

   .message.user {
     background-color: #1e40af;
     color: #ffffff;
   }

   .message.bot {
     background-color: #14532d;
     color: #ffffff;
   }

   header {
     background-color: #1d3966;
     color: #fff;
     box-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
   }

   input[type="text"] {
     background-color: #334155;
     color: #cbd5e1;
     border: 1px solid #475569;
   }

   button {
     background-color: #3b82f6;
     color: white;
   }

   button:hover {
     background-color: #2563eb;
   }

   .message {
     box-shadow: 0 4px 16px rgba(0, 0, 0, .45);
   }

   input[type="text"] {
     box-shadow: 0 4px 12px rgba(0, 0, 0, .4);
   }
 }